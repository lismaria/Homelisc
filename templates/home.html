{% extends "base.html" %}
{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'home.css' %}">
{% endblock style %}

{% block title %}Homelisc{% endblock title %}

{% block content %}
    <div class="homepage-one">
        {% include "search-component.html" %}

        <div class="logo">
            <img src="{% static 'svg/streetsnax-logo.svg' %}" width="100%" height="100%">
        </div>

        <div class="tagline" style='color:var(--primary)'>
            with love from home
        </div>

        <div class="down-arrow">
            <a href="#homepage-2">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill=var(--primary) d="M20.1716 6.66167C20.0637 6.55351 19.9355 6.46771 19.7944 6.40916C19.6532 6.35062 19.5019 6.32048 19.3491 6.32048C19.1963 6.32048 19.045 6.35062 18.9039 6.40916C18.7628 6.46771 18.6346 6.55351 18.5266 6.66167L14 11.1767L9.46164 6.65C9.35363 6.54199 9.2254 6.45631 9.08428 6.39785C8.94315 6.3394 8.7919 6.30931 8.63914 6.30931C8.48639 6.30931 8.33513 6.3394 8.19401 6.39785C8.05288 6.45631 7.92465 6.54199 7.81664 6.65C7.70863 6.75801 7.62295 6.88624 7.56449 7.02737C7.50604 7.16849 7.47595 7.31975 7.47595 7.4725C7.47595 7.62525 7.50604 7.77651 7.56449 7.91764C7.62295 8.05876 7.70863 8.18699 7.81664 8.295L13.1716 13.65C13.6266 14.105 14.3616 14.105 14.8166 13.65L20.1716 8.295C20.2797 8.18822 20.3655 8.06106 20.4241 7.92087C20.4827 7.78068 20.5128 7.63026 20.5128 7.47833C20.5128 7.32641 20.4827 7.17599 20.4241 7.0358C20.3655 6.89561 20.2797 6.76844 20.1716 6.66167Z"/>
                <path fill=var(--primary) d="M20.1717 14.35C20.0638 14.2418 19.9356 14.156 19.7944 14.0975C19.6533 14.039 19.502 14.0088 19.3492 14.0088C19.1964 14.0088 19.0451 14.039 18.904 14.0975C18.7628 14.156 18.6346 14.2418 18.5267 14.35L14 18.865L9.47336 14.3383C9.25522 14.1202 8.95936 13.9976 8.65086 13.9976C8.34236 13.9976 8.0465 14.1202 7.82836 14.3383C7.61022 14.5565 7.48767 14.8523 7.48767 15.1608C7.48767 15.4693 7.61022 15.7652 7.82836 15.9833L13.1834 21.3383C13.6384 21.7933 14.3734 21.7933 14.8284 21.3383L20.1834 15.9833C20.3975 15.7647 20.5165 15.4703 20.5143 15.1643C20.5122 14.8582 20.389 14.5655 20.1717 14.35V14.35Z"/>
            </svg>
            </a>
        </div>
    </div>

    <div id="homepage-2" class="homepage-two">
        <div class="top-cuisines-title">
            Top Categories
        </div>

        <div class="top-cuisines-frame">
            {% for i in topcats %}
            <div class="top-cuisines">

                <a href="{% url 'category' %}?c={{i.category_name}}">
                    <div class="top-cuisines-image">
                        <img src="{{i.category_img.url}}" width=100% height=100%>
                    </div>
                </a>
                <div class="top-cuisines-descr">
                    {{i.category_name}}
                </div>

            </div>
            {% endfor %}

        </div>

        <div class="best-picks-title">
            Best Picks
        </div>

        <div class="best-picks-frame">
            {% for i in '1234' %}
            <a href="#">
            <div style="position: relative;">
                <div class="product-card-heart">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.6301 3.4575C15.247 3.07425 14.7922 2.77023 14.2916 2.56281C13.791 2.35539 13.2545 2.24863 12.7126 2.24863C12.1707 2.24863 11.6342 2.35539 11.1336 2.56281C10.633 2.77023 10.1782 3.07425 9.79509 3.4575L9.00009 4.2525L8.20509 3.4575C7.43132 2.68373 6.38186 2.24903 5.28759 2.24903C4.19331 2.24903 3.14386 2.68373 2.37009 3.4575C1.59632 4.23127 1.16162 5.28072 1.16162 6.375C1.16162 7.46927 1.59632 8.51873 2.37009 9.2925L3.16509 10.0875L9.00009 15.9225L14.8351 10.0875L15.6301 9.2925C16.0133 8.90943 16.3174 8.45461 16.5248 7.95401C16.7322 7.45342 16.839 6.91686 16.839 6.375C16.839 5.83313 16.7322 5.29657 16.5248 4.79598C16.3174 4.29539 16.0133 3.84056 15.6301 3.4575Z" stroke="#F54748" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>                                                               
                </div>
                <div class="product-card">
                    <img src="" alt="" srcset="">
                    <h2>Coconut Truffle</h2>
                    <h3>The Chocolate Indulgence</h3>
                    <div class="product-card-footer">
                        <div>
                            <p>4.0</p>
                            <svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.5798 4.22554L8.68268 3.67806L6.94055 0.264101C6.89297 0.170629 6.81469 0.0949614 6.71799 0.0489671C6.47547 -0.0667604 6.18077 0.0296792 6.05951 0.264101L4.31738 3.67806L0.420236 4.22554C0.312792 4.24038 0.214557 4.28934 0.139346 4.36352C0.0484205 4.45386 -0.00168366 4.57539 4.32016e-05 4.70142C0.00177006 4.82745 0.0551867 4.94766 0.148556 5.03563L2.96819 7.69291L2.30204 11.4452C2.28642 11.5324 2.29641 11.6222 2.33088 11.7043C2.36536 11.7864 2.42293 11.8575 2.49708 11.9095C2.57123 11.9616 2.65898 11.9925 2.75039 11.9988C2.8418 12.0051 2.9332 11.9865 3.01424 11.9452L6.50003 10.1736L9.98582 11.9452C10.081 11.9941 10.1915 12.0104 10.2974 11.9926C10.5645 11.9481 10.7441 11.7033 10.698 11.4452L10.0319 7.69291L12.8515 5.03563C12.9283 4.96293 12.9789 4.86798 12.9943 4.76412C13.0357 4.50447 12.8484 4.26412 12.5798 4.22554V4.22554Z" fill="#01810E"/>
                            </svg>
                        </div>
                        <h4>₹ 80</h4>
                    </div>
                </div>
            </div>
            </a>
            {%endfor%}
        </div>

        <div class="theme-day-title">
            Theme of the day : Chocolates
        </div>

        <div class="best-picks-frame">
            {% for i in '1234' %}
            <div style="position: relative;">
                <div class="product-card-heart">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.6301 3.4575C15.247 3.07425 14.7922 2.77023 14.2916 2.56281C13.791 2.35539 13.2545 2.24863 12.7126 2.24863C12.1707 2.24863 11.6342 2.35539 11.1336 2.56281C10.633 2.77023 10.1782 3.07425 9.79509 3.4575L9.00009 4.2525L8.20509 3.4575C7.43132 2.68373 6.38186 2.24903 5.28759 2.24903C4.19331 2.24903 3.14386 2.68373 2.37009 3.4575C1.59632 4.23127 1.16162 5.28072 1.16162 6.375C1.16162 7.46927 1.59632 8.51873 2.37009 9.2925L3.16509 10.0875L9.00009 15.9225L14.8351 10.0875L15.6301 9.2925C16.0133 8.90943 16.3174 8.45461 16.5248 7.95401C16.7322 7.45342 16.839 6.91686 16.839 6.375C16.839 5.83313 16.7322 5.29657 16.5248 4.79598C16.3174 4.29539 16.0133 3.84056 15.6301 3.4575Z" stroke="#F54748" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>                                                               
                </div>
                <div class="product-card">
                    <img src="" alt="" srcset="">
                    <h2>Coconut Truffle</h2>
                    <h3>The Chocolate Indulgence</h3>
                    <div class="product-card-footer">
                        <div>
                            <p>4.0</p>
                            <svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12.5798 4.22554L8.68268 3.67806L6.94055 0.264101C6.89297 0.170629 6.81469 0.0949614 6.71799 0.0489671C6.47547 -0.0667604 6.18077 0.0296792 6.05951 0.264101L4.31738 3.67806L0.420236 4.22554C0.312792 4.24038 0.214557 4.28934 0.139346 4.36352C0.0484205 4.45386 -0.00168366 4.57539 4.32016e-05 4.70142C0.00177006 4.82745 0.0551867 4.94766 0.148556 5.03563L2.96819 7.69291L2.30204 11.4452C2.28642 11.5324 2.29641 11.6222 2.33088 11.7043C2.36536 11.7864 2.42293 11.8575 2.49708 11.9095C2.57123 11.9616 2.65898 11.9925 2.75039 11.9988C2.8418 12.0051 2.9332 11.9865 3.01424 11.9452L6.50003 10.1736L9.98582 11.9452C10.081 11.9941 10.1915 12.0104 10.2974 11.9926C10.5645 11.9481 10.7441 11.7033 10.698 11.4452L10.0319 7.69291L12.8515 5.03563C12.9283 4.96293 12.9789 4.86798 12.9943 4.76412C13.0357 4.50447 12.8484 4.26412 12.5798 4.22554V4.22554Z" fill="#01810E"/>
                            </svg>
                        </div>
                        <h4>₹ 80</h4>
                    </div>
                </div>
            </div>
            {%endfor%}
        </div>

        <div class="top-places-title">
            Top Places
        </div>

        <div class="top-places-frame">
            {% for i in shops %}
            
            <div style="position: relative;">
                <div class="top-places-card-heart" data-shop_heartid={{i.id}}> 
                    {% if i.id in usershopwish%}                       
                    <svg class="non-heart heart" width="25" height="25" viewBox="0 0 31 31" xmlns="http://www.w3.org/2000/svg">
                        <path d="M26.9183 5.95458C26.2586 5.29455 25.4752 4.77096 24.6131 4.41373C23.751 4.05651 22.8269 3.87264 21.8937 3.87264C20.9605 3.87264 20.0364 4.05651 19.1743 4.41373C18.3121 4.77096 17.5288 5.29455 16.8691 5.95458L15.5 7.32375L14.1308 5.95458C12.7982 4.62198 10.9908 3.87333 9.1062 3.87333C7.22162 3.87333 5.41422 4.62198 4.08162 5.95458C2.74901 7.28719 2.00037 9.09458 2.00037 10.9792C2.00037 12.8638 2.74901 14.6711 4.08162 16.0038L5.45078 17.3729L15.5 27.4221L25.5491 17.3729L26.9183 16.0038C27.5783 15.344 28.1019 14.5607 28.4591 13.6986C28.8164 12.8364 29.0002 11.9124 29.0002 10.9792C29.0002 10.046 28.8164 9.12189 28.4591 8.25975C28.1019 7.39762 27.5783 6.61431 26.9183 5.95458V5.95458Z" stroke="var(--heart)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    {% else %}
                    <svg class="non-heart" width="25" height="25" viewBox="0 0 31 31" xmlns="http://www.w3.org/2000/svg">
                        <path d="M26.9183 5.95458C26.2586 5.29455 25.4752 4.77096 24.6131 4.41373C23.751 4.05651 22.8269 3.87264 21.8937 3.87264C20.9605 3.87264 20.0364 4.05651 19.1743 4.41373C18.3121 4.77096 17.5288 5.29455 16.8691 5.95458L15.5 7.32375L14.1308 5.95458C12.7982 4.62198 10.9908 3.87333 9.1062 3.87333C7.22162 3.87333 5.41422 4.62198 4.08162 5.95458C2.74901 7.28719 2.00037 9.09458 2.00037 10.9792C2.00037 12.8638 2.74901 14.6711 4.08162 16.0038L5.45078 17.3729L15.5 27.4221L25.5491 17.3729L26.9183 16.0038C27.5783 15.344 28.1019 14.5607 28.4591 13.6986C28.8164 12.8364 29.0002 11.9124 29.0002 10.9792C29.0002 10.046 28.8164 9.12189 28.4591 8.25975C28.1019 7.39762 27.5783 6.61431 26.9183 5.95458V5.95458Z" stroke="var(--heart)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    {% endif %}
                </div>
                <div class="top-places-card">
                    <a href="{% url 'shop' id=i.id slug=i.shop_slug %}">
                        <img src="{{i.shop_logo.url}}" alt="" srcset="" class="top-places-card-img">
                    </a>               
                    <div class="top-places-card-body">
                        <h2>{{i.shop_name}}</h2>
                        <div class="top-places-card-body-rating">
                            <h3>{{i.shop_rating}}</h3>
                            <svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                {% if i.shop_rating >= 4.5 %}
                                    <path d="M12.5798 4.22554L8.68268 3.67806L6.94055 0.264101C6.89297 0.170629 6.81469 0.0949614 6.71799 0.0489671C6.47547 -0.0667604 6.18077 0.0296792 6.05951 0.264101L4.31738 3.67806L0.420236 4.22554C0.312792 4.24038 0.214557 4.28934 0.139346 4.36352C0.0484205 4.45386 -0.00168366 4.57539 4.32016e-05 4.70142C0.00177006 4.82745 0.0551867 4.94766 0.148556 5.03563L2.96819 7.69291L2.30204 11.4452C2.28642 11.5324 2.29641 11.6222 2.33088 11.7043C2.36536 11.7864 2.42293 11.8575 2.49708 11.9095C2.57123 11.9616 2.65898 11.9925 2.75039 11.9988C2.8418 12.0051 2.9332 11.9865 3.01424 11.9452L6.50003 10.1736L9.98582 11.9452C10.081 11.9941 10.1915 12.0104 10.2974 11.9926C10.5645 11.9481 10.7441 11.7033 10.698 11.4452L10.0319 7.69291L12.8515 5.03563C12.9283 4.96293 12.9789 4.86798 12.9943 4.76412C13.0357 4.50447 12.8484 4.26412 12.5798 4.22554V4.22554Z" fill="var(--star5)"/>
                                {% elif i.shop_rating >= 4 and i.shop_rating < 4.5 %}
                                    <path d="M12.5798 4.22554L8.68268 3.67806L6.94055 0.264101C6.89297 0.170629 6.81469 0.0949614 6.71799 0.0489671C6.47547 -0.0667604 6.18077 0.0296792 6.05951 0.264101L4.31738 3.67806L0.420236 4.22554C0.312792 4.24038 0.214557 4.28934 0.139346 4.36352C0.0484205 4.45386 -0.00168366 4.57539 4.32016e-05 4.70142C0.00177006 4.82745 0.0551867 4.94766 0.148556 5.03563L2.96819 7.69291L2.30204 11.4452C2.28642 11.5324 2.29641 11.6222 2.33088 11.7043C2.36536 11.7864 2.42293 11.8575 2.49708 11.9095C2.57123 11.9616 2.65898 11.9925 2.75039 11.9988C2.8418 12.0051 2.9332 11.9865 3.01424 11.9452L6.50003 10.1736L9.98582 11.9452C10.081 11.9941 10.1915 12.0104 10.2974 11.9926C10.5645 11.9481 10.7441 11.7033 10.698 11.4452L10.0319 7.69291L12.8515 5.03563C12.9283 4.96293 12.9789 4.86798 12.9943 4.76412C13.0357 4.50447 12.8484 4.26412 12.5798 4.22554V4.22554Z" fill="var(--star4)"/>
                                {% elif i.shop_rating >= 3 and i.shop_rating < 4 %}
                                    <path d="M12.5798 4.22554L8.68268 3.67806L6.94055 0.264101C6.89297 0.170629 6.81469 0.0949614 6.71799 0.0489671C6.47547 -0.0667604 6.18077 0.0296792 6.05951 0.264101L4.31738 3.67806L0.420236 4.22554C0.312792 4.24038 0.214557 4.28934 0.139346 4.36352C0.0484205 4.45386 -0.00168366 4.57539 4.32016e-05 4.70142C0.00177006 4.82745 0.0551867 4.94766 0.148556 5.03563L2.96819 7.69291L2.30204 11.4452C2.28642 11.5324 2.29641 11.6222 2.33088 11.7043C2.36536 11.7864 2.42293 11.8575 2.49708 11.9095C2.57123 11.9616 2.65898 11.9925 2.75039 11.9988C2.8418 12.0051 2.9332 11.9865 3.01424 11.9452L6.50003 10.1736L9.98582 11.9452C10.081 11.9941 10.1915 12.0104 10.2974 11.9926C10.5645 11.9481 10.7441 11.7033 10.698 11.4452L10.0319 7.69291L12.8515 5.03563C12.9283 4.96293 12.9789 4.86798 12.9943 4.76412C13.0357 4.50447 12.8484 4.26412 12.5798 4.22554V4.22554Z" fill="var(--star3)"/>
                                {% elif i.shop_rating >= 2 and i.shop_rating < 3 %}
                                    <path d="M12.5798 4.22554L8.68268 3.67806L6.94055 0.264101C6.89297 0.170629 6.81469 0.0949614 6.71799 0.0489671C6.47547 -0.0667604 6.18077 0.0296792 6.05951 0.264101L4.31738 3.67806L0.420236 4.22554C0.312792 4.24038 0.214557 4.28934 0.139346 4.36352C0.0484205 4.45386 -0.00168366 4.57539 4.32016e-05 4.70142C0.00177006 4.82745 0.0551867 4.94766 0.148556 5.03563L2.96819 7.69291L2.30204 11.4452C2.28642 11.5324 2.29641 11.6222 2.33088 11.7043C2.36536 11.7864 2.42293 11.8575 2.49708 11.9095C2.57123 11.9616 2.65898 11.9925 2.75039 11.9988C2.8418 12.0051 2.9332 11.9865 3.01424 11.9452L6.50003 10.1736L9.98582 11.9452C10.081 11.9941 10.1915 12.0104 10.2974 11.9926C10.5645 11.9481 10.7441 11.7033 10.698 11.4452L10.0319 7.69291L12.8515 5.03563C12.9283 4.96293 12.9789 4.86798 12.9943 4.76412C13.0357 4.50447 12.8484 4.26412 12.5798 4.22554V4.22554Z" fill="var(--star2)"/>
                                {% else %}
                                    <path d="M12.5798 4.22554L8.68268 3.67806L6.94055 0.264101C6.89297 0.170629 6.81469 0.0949614 6.71799 0.0489671C6.47547 -0.0667604 6.18077 0.0296792 6.05951 0.264101L4.31738 3.67806L0.420236 4.22554C0.312792 4.24038 0.214557 4.28934 0.139346 4.36352C0.0484205 4.45386 -0.00168366 4.57539 4.32016e-05 4.70142C0.00177006 4.82745 0.0551867 4.94766 0.148556 5.03563L2.96819 7.69291L2.30204 11.4452C2.28642 11.5324 2.29641 11.6222 2.33088 11.7043C2.36536 11.7864 2.42293 11.8575 2.49708 11.9095C2.57123 11.9616 2.65898 11.9925 2.75039 11.9988C2.8418 12.0051 2.9332 11.9865 3.01424 11.9452L6.50003 10.1736L9.98582 11.9452C10.081 11.9941 10.1915 12.0104 10.2974 11.9926C10.5645 11.9481 10.7441 11.7033 10.698 11.4452L10.0319 7.69291L12.8515 5.03563C12.9283 4.96293 12.9789 4.86798 12.9943 4.76412C13.0357 4.50447 12.8484 4.26412 12.5798 4.22554V4.22554Z" fill="var(--star1)"/>
                                {% endif %}
                            </svg>
                        </div>
                        <h4>{{i.shop_tags|join:" | "}}</h4>
                    </div>
                </div>            
            </div>
            {% endfor %}
        </div>
    </div>

    {% if not request.user.is_authenticated %}
        {% include 'login-required.html' %}
    {% endif %}

{% endblock content %}

{% block javascript %}
<script>
    $(document).ready(function () {
        // Wishlist a Shop - ajax call
        $(".top-places-card-heart").click(function () {
            if($(".login-required-wrapper").length)
            {
                $(".login-required-wrapper").addClass("active");
                    setTimeout(function() {
                $(".login-required-wrapper").removeClass("active");
                }, 5000);
            }
            else{
                var shop_heartid = $(this).data('shop_heartid');
                var that = $(this).children("svg");
                $.ajax({
                    type: 'post',
                    url: "{% url 'add-wishlist' %}",
                    data: {
                        shop_heartid : shop_heartid
                    },
                    success: function (response){
                        that.toggleClass("heart");
                        // alert(response.msg);
                        // location.reload();
                    },
                    error:  function (response){
                        alert("Oops! That didn't go well");
                    }
                });
            }
        });
    });
</script>
{% endblock javascript %}